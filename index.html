<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
  <meta name="theme-color" content="#0f0f23">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="description" content="UPSC Test Generator - AI-powered platform for mastering civil services exam">
  <title>UPSC Prep Pro - AI Test Generator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
  </div>

  <!-- Login Screen -->
  <div id="login-screen" class="login-screen">
    <div class="login-container">
      <div class="login-header">
        <div class="login-logo">
          <span class="material-symbols-rounded">neurology</span>
        </div>
        <h1>UPSC Prep Pro</h1>
        <p class="tagline">AI-Powered Test Generator</p>
      </div>
      
      <form id="login-form" class="login-form">
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">person</span>
            <input type="text" id="login-username" placeholder="Username" required autocomplete="username">
          </div>
        </div>
        
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">lock</span>
            <input type="password" id="login-password" placeholder="Password" required autocomplete="current-password">
          </div>
        </div>
        
        <div class="form-options">
          <label class="checkbox-wrapper">
            <input type="checkbox" id="remember-me">
            <span class="checkmark"></span>
            <span>Remember me</span>
          </label>
        </div>
        
        <button type="submit" class="btn-primary btn-glow" id="login-submit-btn">
          <span>Sign In</span>
          <span class="material-symbols-rounded">arrow_forward</span>
        </button>
        
        <div class="login-divider">
          <span>or</span>
        </div>
        
        <button type="button" class="btn-secondary" id="show-register-btn">
          <span class="material-symbols-rounded">person_add</span>
          <span>Create Account</span>
        </button>
      </form>
      
      <form id="register-form" class="login-form hidden">
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">badge</span>
            <input type="text" id="register-name" placeholder="Full Name" required>
          </div>
        </div>
        
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">person</span>
            <input type="text" id="register-username" placeholder="Username" required autocomplete="username">
          </div>
        </div>
        
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">lock</span>
            <input type="password" id="register-password" placeholder="Password" required autocomplete="new-password">
          </div>
        </div>
        
        <div class="form-group">
          <div class="input-wrapper">
            <span class="material-symbols-rounded input-icon">verified_user</span>
            <input type="password" id="register-confirm" placeholder="Confirm Password" required autocomplete="new-password">
          </div>
        </div>
        
        <button type="submit" class="btn-primary btn-glow" id="register-submit-btn">
          <span>Create Account</span>
          <span class="material-symbols-rounded">arrow_forward</span>
        </button>
        
        <button type="button" class="btn-ghost" id="back-to-login-btn">
          <span class="material-symbols-rounded">arrow_back</span>
          <span>Back to Login</span>
        </button>
      </form>
      
      <p class="login-footer">
        <span class="material-symbols-rounded">shield</span>
        Secure & Private â€¢ Data stays on your device
      </p>
    </div>
  </div>

  <!-- Main App Container -->
  <div id="app-container" class="app-container hidden">
    <!-- Top Header -->
    <header class="app-header">
      <div class="header-left">
        <div class="logo-mini">
          <span class="material-symbols-rounded">neurology</span>
        </div>
        <span class="app-title">UPSC Prep Pro</span>
      </div>
      <div class="header-right">
        <button id="theme-toggle-btn" class="icon-btn" title="Toggle Theme">
          <span class="material-symbols-rounded">dark_mode</span>
        </button>
        <div class="user-menu">
          <button id="user-menu-btn" class="user-avatar-btn">
            <span class="material-symbols-rounded">account_circle</span>
            <span id="user-display-name">User</span>
            <span class="material-symbols-rounded chevron">expand_more</span>
          </button>
          <div id="user-dropdown" class="dropdown-menu hidden">
            <div class="dropdown-header">
              <span class="material-symbols-rounded">person</span>
              <div>
                <span id="dropdown-username">Username</span>
                <small>Member since 2024</small>
              </div>
            </div>
            <hr>
            <button id="backup-data-btn" class="dropdown-item">
              <span class="material-symbols-rounded">cloud_download</span>
              Backup Data
            </button>
            <button id="restore-data-btn" class="dropdown-item">
              <span class="material-symbols-rounded">cloud_upload</span>
              Restore Data
            </button>
            <hr>
            <button id="logout-btn" class="dropdown-item danger">
              <span class="material-symbols-rounded">logout</span>
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Hidden file input for restore -->
    <input type="file" id="restore-file-input" class="hidden" accept=".json,application/json">

    <!-- Dashboard View (Main) -->
    <main id="dashboard-view" class="view-container">
      <!-- Welcome Section -->
      <section class="welcome-section">
        <div class="welcome-text">
          <h1>Welcome back, <span id="welcome-name">User</span>! ðŸ‘‹</h1>
          <p>Ready to ace your UPSC preparation today?</p>
        </div>
        <div class="streak-badge">
          <span class="material-symbols-rounded">local_fire_department</span>
          <div>
            <span id="streak-count">0</span>
            <small>Day Streak</small>
          </div>
        </div>
      </section>

      <!-- Quick Stats -->
      <section class="stats-grid">
        <div class="stat-card stat-tests">
          <div class="stat-icon">
            <span class="material-symbols-rounded">quiz</span>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="total-tests">0</span>
            <span class="stat-label">Tests Taken</span>
          </div>
        </div>
        <div class="stat-card stat-questions">
          <div class="stat-icon">
            <span class="material-symbols-rounded">help_outline</span>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="total-questions">0</span>
            <span class="stat-label">Questions</span>
          </div>
        </div>
        <div class="stat-card stat-accuracy">
          <div class="stat-icon">
            <span class="material-symbols-rounded">target</span>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="avg-accuracy">0%</span>
            <span class="stat-label">Accuracy</span>
          </div>
        </div>
        <div class="stat-card stat-time">
          <div class="stat-icon">
            <span class="material-symbols-rounded">schedule</span>
          </div>
          <div class="stat-info">
            <span class="stat-value" id="study-time">0h</span>
            <span class="stat-label">Study Time</span>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="quick-actions">
        <h2 class="section-title">
          <span class="material-symbols-rounded">bolt</span>
          Quick Actions
        </h2>
        <div class="action-cards">
          <button class="action-card action-create" data-action="create">
            <div class="action-icon">
              <span class="material-symbols-rounded">add_circle</span>
            </div>
            <span class="action-label">Create Test</span>
            <span class="action-desc">AI-generated questions</span>
          </button>
          <button class="action-card action-practice" data-action="practice">
            <div class="action-icon">
              <span class="material-symbols-rounded">school</span>
            </div>
            <span class="action-label">Practice</span>
            <span class="action-desc">Continue learning</span>
          </button>
          <button class="action-card action-review" data-action="review">
            <div class="action-icon">
              <span class="material-symbols-rounded">rate_review</span>
            </div>
            <span class="action-label">Review</span>
            <span class="action-desc">Past mistakes</span>
          </button>
        </div>
      </section>

      <!-- Recent Activity -->
      <section class="recent-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="material-symbols-rounded">history</span>
            Recent Tests
          </h2>
          <button class="btn-text" id="view-all-tests-btn">
            View All
            <span class="material-symbols-rounded">arrow_forward</span>
          </button>
        </div>
        <div id="recent-tests-container" class="recent-list">
          <div class="empty-state">
            <span class="material-symbols-rounded">inbox</span>
            <p>No tests yet. Create your first test!</p>
          </div>
        </div>
      </section>

      <!-- Feature Cards -->
      <section class="feature-section">
        <div class="feature-grid">
          <div class="feature-card" data-feature="all-tests">
            <div class="feature-icon">
              <span class="material-symbols-rounded">library_books</span>
            </div>
            <div class="feature-content">
              <h3>Test Library</h3>
              <p>Access all your saved tests</p>
            </div>
            <span class="material-symbols-rounded arrow">chevron_right</span>
          </div>
          <div class="feature-card" data-feature="performance">
            <div class="feature-icon">
              <span class="material-symbols-rounded">insights</span>
            </div>
            <div class="feature-content">
              <h3>Performance</h3>
              <p>View your progress & results</p>
            </div>
            <span class="material-symbols-rounded arrow">chevron_right</span>
          </div>
          <div class="feature-card" data-feature="analytics">
            <div class="feature-icon">
              <span class="material-symbols-rounded">analytics</span>
            </div>
            <div class="feature-content">
              <h3>Analytics</h3>
              <p>Deep insights & weak areas</p>
            </div>
            <span class="material-symbols-rounded arrow">chevron_right</span>
          </div>
          <div class="feature-card" data-feature="bookmarks">
            <div class="feature-icon">
              <span class="material-symbols-rounded">bookmark</span>
            </div>
            <div class="feature-content">
              <h3>Bookmarks</h3>
              <p>Saved questions for revision</p>
            </div>
            <span class="material-symbols-rounded arrow">chevron_right</span>
          </div>
        </div>
      </section>
    </main>

    <!-- Create Test View -->
    <section id="create-test-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="dashboard">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Create New Test</h1>
      </div>
      
      <div class="create-form-container">
        <!-- Source Tabs -->
        <div class="source-tabs">
          <button class="source-tab active" data-tab="topic">
            <span class="material-symbols-rounded">topic</span>
            <span>Topic</span>
          </button>
          <button class="source-tab" data-tab="text">
            <span class="material-symbols-rounded">article</span>
            <span>Text</span>
          </button>
          <button class="source-tab" data-tab="file">
            <span class="material-symbols-rounded">upload_file</span>
            <span>File</span>
          </button>
          <button class="source-tab" data-tab="manual">
            <span class="material-symbols-rounded">edit_note</span>
            <span>Import</span>
          </button>
        </div>

        <!-- Tab Contents -->
        <div class="tab-contents">
          <div id="tab-topic" class="tab-content active">
            <div class="input-group">
              <label>Topic Name</label>
              <input type="text" id="topic-input" placeholder="e.g., Indian Polity, Ancient History, Geography" class="input-field">
              <small>Enter any UPSC-related topic to generate questions</small>
            </div>
          </div>
          
          <div id="tab-text" class="tab-content">
            <div class="input-group">
              <label>Source Text</label>
              <textarea id="text-input" placeholder="Paste your study material, notes, or any text here..." class="input-field textarea-large"></textarea>
              <small>AI will generate questions based on this content</small>
            </div>
          </div>
          
          <div id="tab-file" class="tab-content">
            <div class="file-upload-area" id="file-drop-zone">
              <span class="material-symbols-rounded">cloud_upload</span>
              <p>Drag & drop PDF or TXT file here</p>
              <span>or</span>
              <label class="file-browse-btn">
                <input type="file" id="file-upload" accept=".pdf,.txt" hidden>
                Browse Files
              </label>
              <small id="selected-file-name">Supported: PDF, TXT (max 10MB)</small>
            </div>
          </div>
          
          <div id="tab-manual" class="tab-content">
            <div class="input-group">
              <label>Paste Questions</label>
              <div class="format-example">
                <strong>Format Example:</strong>
                <pre>1. What is the capital of India?
a) Mumbai  b) Delhi  c) Chennai  d) Kolkata
Answer: b
Explanation: Delhi is the capital...
Subject: Geography | Topic: India</pre>
              </div>
              <textarea id="manual-input" placeholder="Paste your questions here..." class="input-field textarea-large"></textarea>
            </div>
          </div>
        </div>

        <!-- Test Configuration -->
        <div class="config-section">
          <h3>
            <span class="material-symbols-rounded">tune</span>
            Test Configuration
          </h3>
          
          <div class="config-row">
            <div class="input-group">
              <label>Test Name</label>
              <input type="text" id="test-name-input" placeholder="e.g., History Practice Test 1" class="input-field">
            </div>
          </div>
          
          <div class="config-grid">
            <div class="input-group">
              <label>Questions: <span id="questions-count">25</span></label>
              <input type="range" id="questions-slider" min="5" max="100" value="25" class="range-slider">
              <div class="range-labels">
                <span>5</span>
                <span>100</span>
              </div>
            </div>
            
            <div class="input-group">
              <label>Duration (mins)</label>
              <input type="number" id="duration-input" value="30" min="5" max="180" class="input-field">
            </div>
            
            <div class="input-group">
              <label>Language</label>
              <select id="language-select" class="input-field">
                <option value="English">English</option>
                <option value="Hindi">Hindi</option>
              </select>
            </div>
            
            <div class="input-group">
              <label>Marks per Q</label>
              <input type="number" id="marks-input" value="2" min="1" step="0.5" class="input-field">
            </div>
            
            <div class="input-group">
              <label>Negative Marking</label>
              <select id="negative-input" class="input-field">
                <option value="0">None</option>
                <option value="0.33">1/3 (0.33)</option>
                <option value="0.66" selected>UPSC (0.66)</option>
                <option value="1">Full (1.0)</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Generate Button -->
        <button id="generate-test-btn" class="btn-primary btn-large btn-glow">
          <span class="material-symbols-rounded">auto_awesome</span>
          <span>Generate Test with AI</span>
        </button>
      </div>

      <!-- Loader -->
      <div id="loader" class="loader-overlay hidden">
        <div class="loader-content">
          <div class="loader-spinner"></div>
          <p>Generating your test...</p>
          <small>This may take a moment</small>
        </div>
      </div>
    </section>

    <!-- Edit Test View -->
    <section id="edit-test-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="create">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Review & Edit Test</h1>
      </div>
      
      <div class="edit-container">
        <div id="editable-questions-container" class="questions-list"></div>
        
        <div class="edit-actions">
          <button id="add-question-btn" class="btn-secondary">
            <span class="material-symbols-rounded">add</span>
            Add Question
          </button>
          <button id="save-test-btn" class="btn-primary btn-glow">
            <span class="material-symbols-rounded">save</span>
            Save Test
          </button>
        </div>
      </div>
    </section>

    <!-- All Tests View -->
    <section id="all-tests-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="dashboard">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Test Library</h1>
        <div class="header-actions">
          <input type="file" id="import-test-input" class="hidden" accept=".json">
          <button id="import-test-btn" class="btn-icon" title="Import Test">
            <span class="material-symbols-rounded">upload</span>
          </button>
        </div>
      </div>
      
      <div id="all-tests-container" class="tests-grid">
        <div class="empty-state">
          <span class="material-symbols-rounded">folder_open</span>
          <h3>No Tests Yet</h3>
          <p>Create your first test to get started</p>
          <button class="btn-primary" data-action="create">
            <span class="material-symbols-rounded">add</span>
            Create Test
          </button>
        </div>
      </div>
    </section>

    <!-- Test Detail View -->
    <section id="test-detail-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="all-tests">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1 id="test-detail-title">Test Details</h1>
      </div>
      
      <div id="test-detail-container" class="detail-container"></div>
      
      <div class="detail-actions">
        <button id="start-test-btn" class="btn-primary btn-large btn-glow">
          <span class="material-symbols-rounded">play_arrow</span>
          Start Test
        </button>
        <button id="edit-test-detail-btn" class="btn-secondary">
          <span class="material-symbols-rounded">edit</span>
          Edit
        </button>
        <button id="delete-test-btn" class="btn-danger">
          <span class="material-symbols-rounded">delete</span>
          Delete
        </button>
      </div>
    </section>

    <!-- Test Attempt View -->
    <section id="test-attempt-view" class="view-container test-view hidden">
      <header class="test-header">
        <div class="test-header-left">
          <button id="abandon-test-btn" class="btn-icon-danger" title="Abandon Test">
            <span class="material-symbols-rounded">close</span>
          </button>
          <h2 id="attempt-test-title">Test</h2>
        </div>
        <div class="test-header-center">
          <div class="timer-display">
            <span class="material-symbols-rounded pulse">timer</span>
            <span id="time-left">00:00:00</span>
          </div>
        </div>
        <div class="test-header-right">
          <button id="submit-test-btn" class="btn-submit">
            <span class="material-symbols-rounded">check_circle</span>
            <span>Submit</span>
          </button>
        </div>
      </header>
      
      <div class="test-layout">
        <div class="question-panel">
          <div class="question-badge">
            <span>Question</span>
            <span id="current-q-num">1</span>
            <span>of</span>
            <span id="total-q-num">10</span>
          </div>
          
          <div id="question-content" class="question-content"></div>
          
          <div class="question-actions">
            <button id="clear-response-btn" class="btn-secondary btn-sm">
              <span class="material-symbols-rounded">backspace</span>
              Clear
            </button>
            <button id="mark-review-btn" class="btn-warning btn-sm">
              <span class="material-symbols-rounded">bookmark</span>
              Mark for Review
            </button>
            <button id="prev-question-btn" class="btn-secondary btn-sm">
              <span class="material-symbols-rounded">arrow_back</span>
              Prev
            </button>
            <button id="save-next-btn" class="btn-primary btn-sm">
              Next
              <span class="material-symbols-rounded">arrow_forward</span>
            </button>
          </div>
        </div>
        
        <aside class="palette-panel">
          <button id="toggle-palette-btn" class="palette-toggle">
            <span class="material-symbols-rounded">grid_view</span>
            <span>Question Palette</span>
            <span class="material-symbols-rounded toggle-arrow">expand_more</span>
          </button>
          
          <div class="palette-content">
            <div id="question-palette" class="palette-grid"></div>
            
            <div class="palette-legend">
              <h4>Legend</h4>
              <div class="legend-items">
                <div class="legend-item">
                  <span class="legend-dot answered"></span>
                  <span>Answered</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot not-answered"></span>
                  <span>Not Answered</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot marked"></span>
                  <span>Marked</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot marked-answered"></span>
                  <span>Marked + Answered</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot not-visited"></span>
                  <span>Not Visited</span>
                </div>
              </div>
            </div>
            
            <div class="keyboard-shortcuts">
              <h4>Shortcuts</h4>
              <div class="shortcut-list">
                <div class="shortcut"><kbd>1-4</kbd> Select Option</div>
                <div class="shortcut"><kbd>Space</kbd> Next</div>
                <div class="shortcut"><kbd>M</kbd> Mark Review</div>
                <div class="shortcut"><kbd>C</kbd> Clear</div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- Performance View -->
    <section id="performance-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="dashboard">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Performance History</h1>
      </div>
      
      <div id="performance-container" class="performance-list">
        <div class="empty-state">
          <span class="material-symbols-rounded">trending_up</span>
          <h3>No Results Yet</h3>
          <p>Complete tests to see your performance</p>
        </div>
      </div>
    </section>

    <!-- Performance Report View -->
    <section id="performance-report-view" class="view-container hidden">
      <div class="view-header">
        <button id="back-to-performance-list" class="back-btn">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1 id="performance-report-title">Test Result</h1>
        <button id="download-report-btn" class="btn-icon" title="Download Report">
          <span class="material-symbols-rounded">download</span>
        </button>
      </div>
      
      <!-- Summary Cards -->
      <div id="performance-summary-container" class="summary-grid"></div>
      
      <!-- Report Tabs -->
      <div class="report-tabs">
        <button class="report-tab active" data-target="mistakes-view">
          <span class="material-symbols-rounded">error</span>
          <span>Mistakes</span>
        </button>
        <button class="report-tab" data-target="all-questions-view">
          <span class="material-symbols-rounded">list</span>
          <span>All</span>
        </button>
        <button class="report-tab" data-target="subject-breakdown-view">
          <span class="material-symbols-rounded">pie_chart</span>
          <span>Subjects</span>
        </button>
        <button class="report-tab" data-target="time-analysis-view">
          <span class="material-symbols-rounded">schedule</span>
          <span>Time</span>
        </button>
      </div>
      
      <!-- Tab Contents -->
      <div id="mistakes-view" class="report-content active"></div>
      <div id="all-questions-view" class="report-content"></div>
      <div id="subject-breakdown-view" class="report-content"></div>
      <div id="time-analysis-view" class="report-content"></div>
    </section>

    <!-- Analytics View -->
    <section id="analytics-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="dashboard">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Analytics & Insights</h1>
      </div>
      
      <div id="analytics-stats-grid" class="analytics-stats"></div>
      
      <div class="analytics-section">
        <h2>
          <span class="material-symbols-rounded">school</span>
          Subject Mastery
        </h2>
        <p class="section-desc">Click on a subject for detailed breakdown</p>
        <div id="subject-mastery-container" class="subject-cards"></div>
      </div>
    </section>

    <!-- Bookmarks View -->
    <section id="bookmarks-view" class="view-container hidden">
      <div class="view-header">
        <button class="back-btn" data-back="dashboard">
          <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1>Bookmarked Questions</h1>
      </div>
      
      <div id="bookmarks-container" class="bookmarks-list">
        <div class="empty-state">
          <span class="material-symbols-rounded">bookmark_border</span>
          <h3>No Bookmarks Yet</h3>
          <p>Save questions during test review to find them here</p>
        </div>
      </div>
    </section>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-nav="dashboard">
        <span class="material-symbols-rounded">home</span>
        <span>Home</span>
      </button>
      <button class="nav-item" data-nav="all-tests">
        <span class="material-symbols-rounded">library_books</span>
        <span>Tests</span>
      </button>
      <button class="nav-item nav-create" data-nav="create">
        <span class="material-symbols-rounded">add</span>
      </button>
      <button class="nav-item" data-nav="performance">
        <span class="material-symbols-rounded">insights</span>
        <span>Results</span>
      </button>
      <button class="nav-item" data-nav="analytics">
        <span class="material-symbols-rounded">analytics</span>
        <span>Analytics</span>
      </button>
    </nav>

    <!-- Floating Action Button (when nav hidden) -->
    <button id="fab-create" class="fab hidden">
      <span class="material-symbols-rounded">add</span>
    </button>
  </div>

  <!-- Analytics Modal -->
  <div id="analytics-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-subject-title">Subject Analysis</h3>
        <button id="close-modal-btn" class="btn-icon">
          <span class="material-symbols-rounded">close</span>
        </button>
      </div>
      <div id="modal-body" class="modal-body"></div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container" class="toast-container"></div>

  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.7.0",
    "pdfjs-dist": "https://esm.sh/pdfjs-dist@4.4.168/build/pdf.mjs"
  }
}
</script>
  <script type="module" src="index.tsx"></script>
</body>
</html>
